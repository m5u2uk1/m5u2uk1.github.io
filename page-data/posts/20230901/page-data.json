{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/20230901/","result":{"data":{"markdownRemark":{"id":"0d282045-d85b-5229-b602-7b6d5a7d4620","html":"<h2 id=\"うろ覚えで苦しむリカレントpython\" style=\"position:relative;\"><a href=\"#%E3%81%86%E3%82%8D%E8%A6%9A%E3%81%88%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%80%E3%83%AA%E3%82%AB%E3%83%AC%E3%83%B3%E3%83%88python\" aria-label=\"うろ覚えで苦しむリカレントpython permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>うろ覚えで苦しむリカレントPython</h2>\n<p>大文字と小文字を意識して書かないとPython警察に捕まりそうなので色々訂正。</p>\n<h3 id=\"python-にも例外処理ってあったんだっけ\" style=\"position:relative;\"><a href=\"#python-%E3%81%AB%E3%82%82%E4%BE%8B%E5%A4%96%E5%87%A6%E7%90%86%E3%81%A3%E3%81%A6%E3%81%82%E3%81%A3%E3%81%9F%E3%82%93%E3%81%A0%E3%81%A3%E3%81%91\" aria-label=\"python にも例外処理ってあったんだっけ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python にも例外処理ってあったんだっけ</h3>\n<p>あった。そういえば。こんなイメージ。Java でいうtry-catchですなぁ。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">//</span> 例外が発生する可能性のある処理を囲む\n  <span class=\"token operator\">&lt;</span>code<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">except</span> <span class=\"token operator\">&lt;</span>例外の種類<span class=\"token operator\">></span><span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">//</span> 例外が発生したときに書く処理\n  <span class=\"token operator\">&lt;</span>code<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">//</span> こっちには正常時のみの処理\n  <span class=\"token operator\">&lt;</span>code<span class=\"token operator\">></span></code></pre></div>\n<p>Java でよくみる、発生した例外を全部ぶち込んでいけというサンプルを書きたいなら\nexcept で例外を指定しなければおｋ。サンプル以外でそんなコードを書いて怒られないのかおｋ？なのかは知らない。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">&lt;</span>code<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">except</span><span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">&lt;</span>code<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">></span></code></pre></div>\n<p>無理やり例外を発生させることも出来る。どんなときに利用できるのかはわからない。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">raise</span> <span class=\"token operator\">&lt;</span>例外クラス<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>message<span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">raise</span> MemoryError<span class=\"token punctuation\">(</span><span class=\"token string\">\"メモリが足りない（嘘）\"</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">% python3 ./hogehoge.py\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\n  File <span class=\"token string\">\"/foo/bar/hogehoge.py\"</span>, line <span class=\"token number\">2</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\n    raise MemoryError<span class=\"token punctuation\">(</span><span class=\"token string\">\"メモリが足りない（嘘）\"</span><span class=\"token punctuation\">)</span>\nMemoryError: メモリが足りない（嘘）</code></pre></div>\n<p>で、これらを組み合わせるとこんな感じでメモリが足りないとサボタージュが出来る（嘘）\n例外を e に放り込むのはJavaもPythonも同じような感覚っぽい。MS系だとErrとか言いそうなものだけれども。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">raise</span> MemoryError<span class=\"token punctuation\">(</span><span class=\"token string\">\"メモリが足りない（嘘）\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"超絶コスト高のスゴい処理が延々と続く\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> MemoryError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"処理完遂！\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ python3 ./hogehoge.py\nメモリが足りない（嘘）</code></pre></div>\n<h2 id=\"list-tuple-set-何がなにやら\" style=\"position:relative;\"><a href=\"#list-tuple-set-%E4%BD%95%E3%81%8C%E3%81%AA%E3%81%AB%E3%82%84%E3%82%89\" aria-label=\"list tuple set 何がなにやら permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>list tuple set 何がなにやら</h2>\n<ul>\n<li>\n<p>list</p>\n<ul>\n<li>いつものやつ。重複できる。変更できる。</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">hogehoge <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'XYZ'</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">]</span>\nhogehoge<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'EFG'</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"> python3 ./hogehoge.py\n<span class=\"token punctuation\">[</span><span class=\"token string\">'EFG'</span>, <span class=\"token string\">'XYZ'</span>, <span class=\"token number\">123</span>, <span class=\"token number\">123</span><span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>tuple</p>\n<ul>\n<li>重複できる、変更はできない</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">hogehoge <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'XYZ'</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">)</span>\nhogehoge<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'EFG'</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"> python3 ./hogehoge.py\n Traceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\n File <span class=\"token string\">\"/foo/bar/hogehoge.py\"</span>, line <span class=\"token number\">2</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\n  hogehoge<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'EFG'</span>\n  ~~~~~~~~^^^\nTypeError: <span class=\"token string\">'tuple'</span> object does not support item assignment</code></pre></div>\n</li>\n<li>\n<p>set</p>\n<ul>\n<li>重複できない、順序関係ない、addメソッドで追加、removeやdiacardで削除</li>\n<li>比較・演算ができるのがキモなのかも</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">hogehoge <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'XYZ'</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span><span class=\"token number\">123</span><span class=\"token punctuation\">}</span>\nhogehoge<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token number\">114514</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">python3 ./hogehoge.py\n<span class=\"token punctuation\">{</span><span class=\"token string\">'XYZ'</span>, <span class=\"token number\">114514</span>, <span class=\"token number\">123</span>, <span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"glob-ってなんだったっけ\" style=\"position:relative;\"><a href=\"#glob-%E3%81%A3%E3%81%A6%E3%81%AA%E3%82%93%E3%81%A0%E3%81%A3%E3%81%9F%E3%81%A3%E3%81%91\" aria-label=\"glob ってなんだったっけ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>glob ってなんだったっけ</h3>\n<ul>\n<li>何かの条件を満たしたファイルを取得する。みたいな時に使う\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> glob\n\n<span class=\"token operator\">//</span> カレントにあるマークダウンのファイル名をゲットしたい\n<span class=\"token builtin\">file</span> <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span>glob<span class=\"token punctuation\">(</span><span class=\"token string\">'./*.md'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>","fields":{"slug":"/posts/20230901/","tagSlugs":["/tag/python/"]},"frontmatter":{"date":"2023-09-01T19:00:00.000Z","description":"リカレントPython","tags":["Python"],"title":"リカレントPython","socialImage":{"publicURL":"/static/3e9fdb6f76e9e1b7ba50214287f07245/profile-pic.png"}}}},"pageContext":{"slug":"/posts/20230901/"}},"staticQueryHashes":["251939775","2764776372","401334301"]}